<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>


<main ng-controller="mainController as main">
	
	<section>
		<h1>hello</h1>
		<div ng-hide="main.isLoggedIn">You are browsing as a guest</div>
		<div ng-show="main.isLoggedIn">
			<span>Welcome back</span>
			<span ng-if="main.userDetails">{{ main.userDetails.user.email }}</span>
		</div>
	</section>

	<section ng-hide="main.isLoggedIn">
		<h2>log in</h2>
		<div ng-click="main.signIn()">Sign in</div>
	</section>

	<section ng-show="main.isLoggedIn">

		<div class="left">
			<h2>log out</h2>
			<div ng-click="main.signOut()">Sign out</div>
		</div>

		<div class="todo-app right">
			<h4>todo app</h4>
			<div class="current-todos">
				<div ng-repeat="todo in main.allTodos">
					<h4>{{ todo.title }}</h4>
					<time>{{ todo.timeAdded | date }}</time>
				</div>

			</div>
			<div class="new-todo">
				<input type="text" placeholder="add todo" ng-model="main.todoTitle"/>
				<input type="button" value="submit" ng-click="main.submitTodo()" />
			</div>
		</div>
	</section>

</main>


<script type="text/javascript" src="../jspm_packages/system.js"></script>
<script type="text/javascript" src="../config.js"></script>
<script type="text/javascript">
	System.import("js/src/main.js").then(function(){
		angular.element(document).ready(function(){
			angular.bootstrap( document, [ "angularfireApp" ]);
		});
	});

</script>
</body>
</html>